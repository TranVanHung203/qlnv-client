<div class="page holidays-management">
  <div class="header">
    <div>
      <h3>Qu·∫£n l√Ω ng√†y l·ªÖ</h3>
      <div class="muted">Th√™m, s·ª≠a, x√≥a v√† qu·∫£n l√Ω danh s√°ch ng√†y l·ªÖ</div>
    </div>
    <div class="actions">
      <div class="search">
        <input class="input" [(ngModel)]="filterName" placeholder="üîé T√¨m theo t√™n ng√†y l·ªÖ" />
        <button class="btn primary" (click)="load(1)">T√¨m</button>
      </div>
      <button class="btn success" (click)="startEdit()">+ Th√™m ng√†y l·ªÖ</button>
    </div>
  </div>

  <div class="card">
    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            <th>T√™n</th>
            <th>B·∫Øt ƒë·∫ßu</th>
            <th>K·∫øt th√∫c</th>
            <th style="width:1%"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let h of items">
            <td class="name-cell">{{ h.tenNgayLe }}</td>
            <td>{{ h.ngayBatDau | vnDate:'yyyy-MM-dd' }}</td>
            <td>{{ h.ngayKetThuc | vnDate:'yyyy-MM-dd' }}</td>
            <td class="nowrap actions-cell">
              <button class="btn" (click)="startEdit(h)">‚úè S·ª≠a</button>
              <button class="btn danger" (click)="requestDelete(h.id!)">üóë X√≥a</button>
            </td>
          </tr>
          <tr *ngIf="items.length === 0">
            <td colspan="4" class="muted">Kh√¥ng c√≥ ng√†y l·ªÖ n√†o.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="pager">
      <div class="left">
        <button class="btn" [disabled]="page <= 1" (click)="load(page - 1)">¬´ Tr∆∞·ªõc</button>
        <span class="page-info">Trang {{ page }} / {{ totalPages }}</span>
        <button class="btn" [disabled]="page >= totalPages" (click)="load(page + 1)">Ti·∫øp ¬ª</button>
      </div>
      <div class="right">
        <label>Hi·ªÉn th·ªã</label>
        <select [(ngModel)]="pageSize" (change)="load(1)">
          <option [value]="5">5</option>
          <option [value]="8">8</option>
          <option [value]="20">20</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Editor -->
  <div class="editor card" *ngIf="editing">
    <h4 class="editor-title">{{ editing.id ? '‚úè S·ª≠a ng√†y l·ªÖ' : '‚ûï Th√™m ng√†y l·ªÖ' }}</h4>
    <div class="field">
      <label>T√™n ng√†y l·ªÖ</label>
      <input class="input" [(ngModel)]="editing.tenNgayLe" />
      <div *ngIf="editorErrors['tenNgayLe']" class="field-error">{{ editorErrors['tenNgayLe'] }}</div>
    </div>
    <div class="field-inline">
      <div>
        <label>Ng√†y b·∫Øt ƒë·∫ßu</label>
        <input type="date" class="input" [(ngModel)]="editing.ngayBatDau" />
        <div *ngIf="editorErrors['ngayBatDau']" class="field-error">{{ editorErrors['ngayBatDau'] }}</div>
      </div>
      <div>
        <label>Ng√†y k·∫øt th√∫c</label>
        <input type="date" class="input" [(ngModel)]="editing.ngayKetThuc" />
        <div *ngIf="editorErrors['ngayKetThuc']" class="field-error">{{ editorErrors['ngayKetThuc'] }}</div>
      </div>
    </div>
    <div class="editor-actions">
      <button class="btn success" (click)="save()">üíæ L∆∞u</button>
      <button class="btn" (click)="cancelEdit()">H·ªßy</button>
    </div>
  </div>

  <!-- Confirm Delete Modal -->
  <div class="modal-backdrop" *ngIf="confirmDeleteId">
    <div class="modal card">
      <h4>‚ö† X√°c nh·∫≠n x√≥a</h4>
      <p>B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ng√†y l·ªÖ <b>#{{ confirmDeleteId }}</b> ?</p>
      <div class="modal-actions">
        <button class="btn" (click)="cancelDelete()">H·ªßy</button>
        <button class="btn danger" (click)="confirmDelete()">X√≥a</button>
      </div>
    </div>
  </div>
</div>
